<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>UCABAir</title>
    <link rel="stylesheet" href="../estilos.css" />
    <script
      type="module"
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"
    ></script>
    <style>
      .bienvenida {
        margin-top: 50px;
        padding: 20px;
        background-color: #f1f1f1;
        border-radius: 10px;
      }
      .bienvenida h1 {
        font-size: 2em;
        margin-bottom: 20px;
      }
      .bienvenida p {
        font-size: 1.2em;
        margin-bottom: 10px;
      }
      .cerrarSesion {
        background-color: #f44336;
        color: white;
        border: none;
        border-radius: 5px;
        padding: 10px;
        margin: 10px;
        cursor: pointer !important;
        width: 100px !important;
      }
    </style>
  </head>
  <body>
    <% if (typeof username !== 'undefined') { %>
    <header>
      <img id="logo" src="../imagenes/logo.png" width="200px" height="auto" />
      <div class="usuario">
        <button class="cerrarSesion">Cerrar Sesión</button>
        <button class="notificacion">
          <ion-icon name="notifications-outline"></ion-icon>
        </button>
        <img
          id="foto-perfil"
          src="../imagenes/koala vestido de ejecutivo.png"
          width="50px"
          height="auto"
        />
      </div>
    </header>
    <div class="sidebar">
      <h2>Módulos</h2>
      <nav class="navegacion">
        <ul>
          <li>
            <a href="inicio.html">
              <ion-icon name="home-outline"></ion-icon>
              <span>Inicio</span>
            </a>
          </li>
          <li>
            <a href="inventario.html">
              <ion-icon name="cube-outline"></ion-icon>
              <span>Inventario</span>
            </a>
          </li>
          <li>
            <a href="ensamblaje.html">
              <ion-icon name="hammer-outline"></ion-icon>
              <span>Ensamblaje</span>
            </a>
          </li>
          <li>
            <a href="pruebas.html">
              <ion-icon name="checkbox-outline"></ion-icon>
              <span>Pruebas</span>
            </a>
          </li>
          <li>
            <a href="aviones.html">
              <ion-icon name="airplane-outline"></ion-icon>
              <span>Aviones</span>
            </a>
          </li>
          <li>
            <a href="ordenes y transporte.html">
              <ion-icon name="paper-plane-outline"></ion-icon>
              <span>Ordenes de Producción y Transporte</span>
            </a>
          </li>
          <li>
            <a href="clientes y proveedores.html">
              <ion-icon name="person-outline"></ion-icon>
              <span>Clientes y Proveedores</span>
            </a>
          </li>
          <li>
            <a href="personal.html">
              <ion-icon name="people-outline"></ion-icon>
              <span>Personal</span>
            </a>
          </li>
          <li>
            <a href="reportes.html">
              <ion-icon name="document-attach-outline"></ion-icon>
              <span>Reportes</span>
            </a>
          </li>
          <li>
            <a href="roles y permisos.html">
              <ion-icon name="lock-closed-outline"></ion-icon>
              <span>Roles y Permisos</span>
            </a>
          </li>
        </ul>
      </nav>
      <div class="linea"></div>
      <a id="logout" href="">
        <ion-icon name="log-out-outline"></ion-icon>
        <span>Sign out</span>
      </a>
    </div>
    <main>
      <div class="contenedor">
        <h1>Inicio</h1>
        <article class="bienvenida">
          <h1>Bienvenido: <%= username %></h1>
          <p>UCABAir es una empresa dedicada a la fabricación de aviones.</p>
          <p>
            En este sistema podrás llevar un control de los aviones que se están
            fabricando, los componentes que se tienen en inventario, el personal
            que trabaja en la empresa, entre otras cosas.
          </p>
        </article>
      </div>
    </main>
    <% } %> <% if (typeof username === 'undefined') { %> <%-
    include('no-permiso') %> <% } %>
    <script>
      const cerrarSesion = document.querySelector(".cerrarSesion");
      cerrarSesion.addEventListener("click", () => {
        fetch("/logout", {
          method: "POST",
        })
          .then((res) => res.json())
          .then((data) => {
            if (data.ok) {
              window.location.href = "/login";
            }
          });
      });
    </script>
  </body>
</html>
